---
layout: default
title:  "Final Project"
permalink: /12/
---

# Final Project

A lot of the previous sessions focused on progress of the robot, so they will be repeated on this page.

### Final Project in action

<video width="400" video controls>
	<source src="xyz2.mp4" type="video/mp4">
</video>

<video width="400" video controls>
	<source src="xyz1.mp4" type="video/mp4">
</video>

### Final Project Proposal

Inspired by [Nathan Melenbrink's](http://nathanmelenbrink.com/) explanation of soft robotics and their usage around coral reefs, I wanted to try making my own soft robotic gripper and attach it to a pneumatic robotic arm, similar to the one that appears in [this](https://www.youtube.com/watch?v=P1lF_mJf8uo&t=1m11s) video.

The "gimmick" of this robot is that its physical movement will be entirely driven by air, as opposed to electromagnetic motors. I can use the McKibben Actuators that [Rob](https://roberthart56.github.io/SCFAB/SC_lab/) made and activate them using solenoid air valves, and the soft robotic gripper (details of which can be found [here](https://softroboticstoolkit.com/resources-for-educators/soft-gripper)) can be inflated using an air pump motor.  

Here is a sketch I made showcasing a possible configuration of the robot arm:

<img src="sketch.jpg" alt="Sketch" >

### Creating a PVC Stand for my Robot

Since I work at the [SEAS Instructional Machine Shop](https://www.physics.harvard.edu/resources/shop), I have access to a very nice tool known as a horizontal saw. It is ideal for cutting round objects (which a standard band saw has trouble cutting), and it can even be automated.

<video width="400" video controls>
	<source src="cutter.mp4" type="video/mp4">
</video>

I used the horizontal saw to cut some PVC which I used to make a quick and dirty stand for my pneumatic robot arm, so I don't have to waste time finding one that's high enough or build my own out of wood.

<img src="stand.jpg" alt="Stand" style="height: 200px; max-width: 48%">

I then attached an 80/20 slotted aluminum rod to the top of the stand. This is where I will pivot my robot arm off of. In order to do this, I drilled two holes in two adjacent pipes, and then cut (using the hack saw) and filed down some long screws with a belt sander, so they could fit into a nut just inside the 80/20 slot.

<img src="8020.jpg" alt="80/20" style="height: 200px; max-width: 48%">

### 3D Printing a Mold for the Soft Gripper

The existing soft gripper did not pump air uniformly into its four fingers, which I suspect is a result of imperfections due to the silicone not being distributed uniformly during the molding process. To fix this problem, I decided to 3D print my own mold, which should be much more rigid compared to the cardboard and hot-glue mold suggested by the Soft Robotics Toolkit website.

Luckily, I found that someone had already conveniently designed a mold for this very gripper and freely offered the .stl file on [their blog](https://www.instructables.com/id/Air-Powered-Soft-Robotic-Gripper/). Therefore, it was just a matter of converting this file using Cura and feeding it into the Prusa 3D printer:

<video width="400" controls>
	<source src="fab2.mp4" type="video/mp4">
</video>

Unfortunately, the 3D printer had some issues printing the mold, as you can see in the video. The mold was printed off-center, and a portion of the "support raft" was missing on the bottom, causing the mold to come out misaligned:

<img src="oops.jpg" alt="Broken Mold" style="height: 200px; max-width: 48%">

It turned out the problem was the 3D slicer I was using. The Ultimaker Cura doesn't seem to like slicing things for the Prusa MK3, so I resliced it using the Prusa Slicer instead. After all, it would make sense to use the slicer made for the specific printer I'm using.

<img src="3dprint.jpg" alt="3D Printer" style="height: 200px; max-width: 48%">

This time, the mold printed correctly, as you can see by the mold appearing in the middle and being within the printed boundary markers. The mold turned out pretty nicely:

<img src="mold1.jpg" alt="Mold 1" style="height: 200px; max-width: 48%">

However, the gripper that would result from this mold would be really tiny. I experimented with changing the size on the Prusa Slicer to produce larger variants of this mold.

<img src="molds.jpg" alt="Molds" style="height: 200px; max-width: 48%">

I also designed my own mold in Fusion 360 for the bottom half of the soft gripper, which is simply a cross roughly in the same dimensions as the largest version of the upper-half mold. You can download an .stl of this mold [here](https://kem406.github.io/PHYS-S12/06/gripperfoot.stl).

<img src="foot.png" alt="Mold 2 in Fusion 360">

<img src="mold2.jpg" alt="Mold 2" style="height: 200px; max-width: 48%">

While 3D printing the air-hose connector was done more in the interest of time than anything else, I think a good case can be made for justifying the 3D printing of the molds. As I said earlier, I need the mold to be as precise as possible, and I don't think making one out of cardboard would cut it. 3D printing the bottom half also allows me to save time and not have to worry about using a knife to cut out a perfect cross shape from a larger sheet of silicone.

### 3D Printing Miscellaneous Parts

I 3D printed some various parts to use for my final project. These include two clamping mechanisms for my arm, a tube stopper, and a cylindrical spacer (.stl downloads [here](https://kem406.github.io/PHYS-S12/06/clamp1.stl), [here](https://kem406.github.io/PHYS-S12/06/clamp2.stl), [here](https://kem406.github.io/PHYS-S12/06/stopper.stl) and [here](https://kem406.github.io/PHYS-S12/06/spacer.stl) respectively).

Clamping mechanism:

<img src="clamp1.png" alt="Clamp 1 CAD">

<img src="clamp2.png" alt="Clamp 2 CAD">

Stopper:

<img src="stopper.png" alt="Stopper CAD">

Spacer:

<img src="spacer.png" alt="Spacer CAD">

The spacer and the stopper turned out nice, and I made them in some pretty blue and yellow colors to boot. I also printed out a blue version of the air-hose connector.

<img src="blueyellow.jpg" alt="Misc. Parts" style="height: 200px; max-width: 48%">

<img src="spacer_fit.jpg" alt="Spacer in Robot" style="height: 200px; max-width: 48%">

I replaced the brass spacer I made for [session 2](https://kem406.github.io/PHYS-S12/02/) with the 3D printed version, since I would prefer the spacer to be precisely even, which is hard to achieve by filing a brass spacer down, and machining a perfect spacer with a mill would be time consuming (in contrast, the 3D printer made what I needed in a few minutes!).

However, the clamp did not turn out well. For some reason, the printer lost its grip on the filament and went through the rest of the printing motions without actually printing the rest of the object. I suppose this is for the best, since the part needs to be at 100% infill because of the stress this clamp would be under, and that would have wasted a lot of material. My only justification for printing this particular part is that the 3D printer is the only tool I have access to outside of lab hours.

I opted to machine the clamp instead, which you can be read about in [session 11](https://kem406.github.io/PHYS-S12/11/).

### Making an Elbow

I connected my circuit and air valves to a rudimentary setup I made for my robotic arm's elbow.

<img src="elbow.jpg" alt="Elbow">

The McKibben actuator driving the elbow is powered by an air tank, and the air flow is controlled by the two solenoid valves, with one acting as a pressure release.

<img src="setup.jpg" alt="Setup" style="height: 200px; max-width: 48%">

<video width="400" video controls>
	<source src="arm.mp4" type="video/mp4">
</video>

As you can see, pressing one button causes one valve to open (allowing air from the tank to fill the McKibben actuator), while pressing the other button opens the pressure release valve (causing air to evacuate the actuator). Pressing both buttons at the same time plays a warning sound and ceases all movement of the arm.

### Creating a Miniature Soft Gripper

At first, I used the tiny mold I 3D printed in [session 6](https://kem406.github.io/PHYS-S12/06) to try making a soft gripper.

<img src="tiny1.jpg" alt="Tiny Gripper 1" style="height: 200px; max-width: 48%">

I poured a substance called Ecoflex silicone into the mold, which involves mixing two different parts A and B into a single cup before pouring. After the mold cured in about four hours, I ended up with a nice looking upper half of a soft gripper:

<img src="tiny2.jpg" alt="Tiny Gripper 2" style="height: 200px; max-width: 48%">

I mixed up some more Ecoflex and tried using it as glue to attach the upper half to a piece of silicone that already had some fabric attached to it, but the resulting soft gripper did not work whatsoever. I think the problem with it was two-fold: one, I used too much of the Ecoflex to glue the pieces together, causing some to get into the air cavities; and two, the mold I used was really tiny and therefore already did not have much air space to work with in the first place.

### Creating a Larger Yellow Gripper

I wanted to make my soft grippers more attractive-looking, so I used something called Silc Pig to dye the Ecoflex bight yellow. I bought the Silc Pig from Reynolds Advanced Materials in Brighton, and according to the staff there, it works best when you mix it in with part B of the Ecoflex before you combine both parts.

<img src="silcpig.jpg" alt="Silc Pig" style="height: 200px; max-width: 48%">

For the fabric, I laser cut some yellow nylon I found in the fabric bin. I cut it to the same exact dimensions as the lower half mold I designed in session 6.

<video width="400" video controls>
	<source src="laser.mp4" type="video/mp4">
</video>

This fabric fit snugly into the bottom mold. As Nathan put it, precision is one of the benefits of digital fabrication.

<img src="snug.jpg" alt="Snug" style="height: 200px; max-width: 48%">

I poured the Silc-Pig dyed Ecoflex into both this mold and the larger upper half mold from session 6:

<img src="upper.jpg" alt="Upper" style="height: 200px; max-width: 48%">

<img src="lower.jpg" alt="Lower" style="height: 200px; max-width: 48%">

These are now left to cure for a while.

<img src="both.jpg" alt="Both" style="height: 200px; max-width: 48%">

### Troubleshooting

<img src="trials.jpg" alt="Trialsr" style="height: 200px; max-width: 48%">

I repeated this process many times, and I ran into many problems along the way. The first time I tried to make a large gripper, I tried to take an upper half that was already cured and place it on top of a lower half as it was still in the process of curing, and it was my hope that they would bond without needing to use Ecoflex as glue. However, this just resulted in the upper half sinking to the bottom of the lower half, creating a soft gripper where both halves are completely merged. The nylon also turned out to be not so great at bonding to the silicone, and actually floated to the top of the curing Ecoflex while it was still viscous. In future attempts, I would use double sided tape to prevent this.

The next time I tried to make a large gripper, I left both halves fully cure, and tried to use Ecoflex as a glue again.

<img src="grippers.jpg" alt="Grippers" style="height: 200px; max-width: 48%">

I tried this with two soft grippers, but they both ran into the same problem. Even though I tried my best, the glue did not spread evenly, and there were uneven air pockets within the gripper as a result. Whenever air was pumped into the grippers, the air would immediately try to fill these voids, since currents want to take the path of least resistance. When the air filled these pockets, that particular area would expand rapidly and eventually pop. I could fix these ruptures with silicone Gorilla Glue, but this would only cause air to gravitate towards another pocket and the process would repeat. Fixing these grippers with Gorilla Glue would be tedious and would take forever.  

Finally, after both halves were cured, I took the bottom half, flipped it over, placed it inside the bottom mold again, and poured in another thin layer of Ecoflex. I then placed the upper half on top, essentially treating the new layer as a perfectly-spread layer of glue. This finally did the trick!

<video width="400" video controls>
	<source src="action.mp4" type="video/mp4">
</video>

### Fixing the Valve Leak

One of the problems I ran into when testing my [elbow configuring](https://kem406.github.io/PHYS-S12/09/) was that the solenoid valve I used was not strong enough to withhold all of the air pressure coming from the tank. As a result, a little bit of air leaked through when no buttons were pressed, causing the arm to slowly rise without a given command to rise.

To fix this, I will have a "master solenoid valve," on top of the solenoid valves for each joint of the robot, and I will create an Arduino program that will only open the master valve when one of the joint valves is opened (i.e. when I want the robot to move). I tested two solenoid valves in series, and found that two of them are sufficient at withholding the air pressure from the tank.

The program is as follows:   

```
// The purpose of this program is to activate valve 5
// when any combination of the first four valves are activated

// unchanging constants
const int valveOne = 2;
const int valveTwo = 3;
const int valveThree = 4;
const int valveFour = 5;
const int valveFive = 6;

// variables
int valveOneState = 0;
int valveTwoState = 0;
int valveThreeState = 0;
int valveFourState = 0;

void setup() {

  // initialize valves 1-4 as inputs:
  pinMode(valveOne, INPUT);
  pinMode(valveTwo, INPUT);
  pinMode(valveThree, INPUT);
  pinMode(valveFour, INPUT);

  // initialize valve 5 as an output:
  pinMode(valveFive, OUTPUT);

}

void loop() {

  // find the state of valves 1-4:
  valveOneState = digitalRead(valveOne);
  valveTwoState = digitalRead(valveTwo);
  valveThreeState = digitalRead(valveThree);
  valveFourState = digitalRead(valveFour);

  // check to see which button is pressed. If both pressed, give warning signal
  if (valveOneState == LOW && valveTwoState == LOW && valveThreeState == LOW && valveFourState == LOW) {

    digitalWrite(valveFive, LOW);

  } else { // if ANY of valves 1-4 are activated, activate valve 5

    digitalWrite(valveFive, HIGH);

  }

}
```

Image from [here](https://reformjudaism.org/blog/2018/11/21/sing-hallelujah-poem-thanksgiving).

### Machining some Robot Parts

Instead of 3D printing the clamping parts I needed in [session 6](https://kem406.github.io/PHYS-S12/06/), I decided to machine them myself at the [SEAS Instructional Machine Shop](https://www.physics.harvard.edu/resources/shop). The first step to machining parts is to determine the dimensions of your pieces, and then finding and cutting the necessary material. I decided to use aluminum, fitting with the rest of my robot.

After cutting a rough aluminum bar, I used the grinder to deburr the object. I then precisely machined it using a milling machine to get this nice-looking finished bar:

<img src="bar.jpg" alt="Bar" style="height: 200px; max-width: 48%">

The next step was to drill two holes in the center line of the bar, so I can screw this piece onto a larger U-shaped piece, which I will use as a bracket for my pneumatic cylinder. Before drilling a hole with the milling machine, it is important to use a center drill to create a groove where you want the hole to be, which guides in the drill you actually want to use. This is how machinists are able to get really precise holes even when using large drills.

<img src="centerdrill.jpg" alt="Center Drill" style="height: 200px; max-width: 48%">

After the holes are drilled, I deburr the rim of the holes using a handheld deburring tool. Now, its time to use a countersink drill on the two holes. This creates a full-shaped opening that allows the fitting of a flathead screw that is completely flush with the surface of the part.

<img src="countersink1.jpg" alt="Center Drill" style="height: 200px; max-width: 48%">

<img src="countersink2.jpg" alt="Center Drill" style="height: 200px; max-width: 48%">

My bar is finished, and now its time to attach it to my U-shaped piece:

<img src="parts.jpg" alt="Parts" style="height: 200px; max-width: 48%">

The U-shaped piece was originally a rectangular-shaped tube with the top removed using an endmill on the milling machine. To fix my bar to this piece, I use a very similar process to drill two holes, but this time I use a smaller drill diameter, so I can tap the holes and allow the flatheads to screw in without the need for nuts and washers.

I then cut three identical t-shaped bars using an endmill and deburred them with a grinder. By drilling a center hole in one of these, I was able to finish my clamp for the pneumatic cylinder by drilling a smaller and tapped hole in the U-shaped piece:

<img src="finished1.jpg" alt="Clamp 1" style="height: 200px; max-width: 48%">

I took the two remaining t-shaped bars and used a similar process for two holes at the ends, and a large hole in the center which fits snugly around the rod of a Thor Labs clamp. This is how my robot will piviot about its shoulder.

<img src="finished2.jpg" alt="Clamp 1" style="height: 200px; max-width: 48%">
